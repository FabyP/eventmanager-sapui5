/*!
 * OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/Control","sap/ui/integration/host/HostConfigurationCompiler"],function(t,s){"use strict";var e=t.extend("sap.ui.integration.host.HostConfiguration",{metadata:{library:"sap.ui.integration",properties:{config:{type:"any"},css:{type:"string"}},events:{cssChanged:{}}},renderer:function(t,s){t.write("<style ");t.writeElementData(s);t.write(">");t.write(s._getCssText()||"");t.write("</style>")}});e.prototype.setConfig=function(t,s){this._sCssText=null;return this.setProperty("config",t,s)};e.prototype.setCss=function(t,s){this._sCssText=null;return this.setProperty("css",t,s)};e.prototype.onBeforeRendering=function(){if(!this._sCssText){if(this.getCss()){this._applyCss()}else{this._applyConfig()}}};e.prototype._applyCss=function(){var t=this.getCss();s.loadResource(t,"text").then(function(t){this._sCssText=t;this.invalidate()}.bind(this)).catch(function(){})};e.prototype._applyConfig=function(){var t=this.getConfig();if(typeof t==="string"){s.loadResource(t,"json").then(function(t){this._oConfig=t;this.invalidate()}.bind(this)).catch(function(){})}else if(typeof t==="object"&&!Array.isArray(t)){this._oConfig=t;this.invalidate()}};e.prototype._getCssText=function(){var t=this._oConfig;if(!t&&!this.getCss()){return""}if(this._sCssText){return this._sCssText}var e=this.getId().replace(/-/g,"_").replace(/\./g,"_").replace(/\,/g,"_");this._sCssText=s.generateCssText(this._oConfig,e);this.fireCssChanged({cssText:this._sCssText});return this._sCssText};e.prototype.generateJSONSettings=function(t){return s.generateJSONSettings(this._oConfig,t)};return e});