/*!
 * OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/Renderer","sap/ui/unified/calendar/CalendarDate","./MonthRenderer","sap/ui/core/CalendarType"],function(e,a,t,r){"use strict";var i=e.extend(t);i.getStartDate=function(e){return e._getStartDate()};i.getClass=function(e,a){var t="sapUiCalDatesRow sapUiCalRow";if(!a.getShowDayNamesLine()){t=t+" sapUiCalNoNameLine"}return t};i.addWrapperAdditionalStyles=function(e,a){if(a._iTopPosition){e.addStyle("top",a._iTopPosition+"px");e.writeStyles()}};i.renderMonth=function(e,a,r){t.renderMonth.apply(this,arguments);this.renderWeekNumbers(e,a)};i.renderWeekNumbers=function(e,a){var t,i,n,s;if(a.getShowWeekNumbers()&&a.getPrimaryCalendarType()===r.Gregorian){t=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified");e.write('<div id="'+a.getId()+'-weeks"');e.addClass("sapUiCalRowWeekNumbers");e.writeClasses();e.write(">");i=a.getDays();n=100/i;s=a.getWeekNumbers();s.forEach(function(a){e.write("<div");e.addClass("sapUiCalRowWeekNumber");e.writeClasses();e.addStyle("width",a.len*n+"%");e.writeStyles();e.writeAttribute("data-sap-ui-week",a.number);e.write(">"+t.getText("CALENDAR_DATES_ROW_WEEK_NUMBER",[a.number])+"</div>")});e.write("</div>")}};i.renderHeader=function(e,a,t){var r=a._getLocaleData();var i=a.getId();var n=a.getDays();var s="";if(a._getShowHeader()){e.write('<div id="'+i+'-Head">');this.renderHeaderLine(e,a,r,t);e.write("</div>")}s=100/n+"%";if(a.getShowDayNamesLine()){e.write('<div id="'+i+'-Names" style="display: inline;">');this.renderDayNames(e,a,r,t.getDay(),n,false,s);e.write("</div>")}};i.renderHeaderLine=function(e,t,r,i){var n=t.getId();var s=t.getDays();var d=new a(i,t.getPrimaryCalendarType());var o="";var l=0;var g=[];var y=0;for(y=0;y<s;y++){l=d.getMonth();if(g.length>0&&g[g.length-1].iMonth==l){g[g.length-1].iDays++}else{g.push({iMonth:l,iDays:1})}d.setDate(d.getDate()+1)}var u=r.getMonthsStandAlone("wide");for(y=0;y<g.length;y++){var D=g[y];o=100/s*D.iDays+"%";e.write('<div id="'+n+"-Head"+y+'"class="sapUiCalHeadText" style="width:'+o+'">');e.write(u[D.iMonth]);e.write("</div>")}};i.renderDays=function(e,t,r){var i=t.getDays();var n=100/i+"%";var s=t.getShowDayNamesLine();if(!r){r=t._getFocusedDate()}var d=this.getDayHelper(t,r);if(!s){if(t._bLongWeekDays||!t._bNamesLengthChecked){d.aWeekDays=d.oLocaleData.getDaysStandAlone("abbreviated")}else{d.aWeekDays=d.oLocaleData.getDaysStandAlone("narrow")}d.aWeekDaysWide=d.oLocaleData.getDaysStandAlone("wide")}var o=new a(r,t.getPrimaryCalendarType());for(var l=0;l<i;l++){this.renderDay(e,t,o,d,false,false,l,n,!s);o.setDate(o.getDate()+1)}};return i},true);