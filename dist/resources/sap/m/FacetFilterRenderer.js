/*!
 * OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/m/library","sap/ui/Device","sap/ui/core/InvisibleText"],function(e,t,r){"use strict";var i=e.FacetFilterType;var a=e.ListMode;var s={};s.render=function(e,t){switch(t.getType()){case i.Simple:s.renderSimpleFlow(e,t);break;case i.Light:s.renderSummaryBar(e,t);break}};s.renderSimpleFlow=function(e,r){e.write("<div");e.writeControlData(r);e.addClass("sapMFF");e.writeAccessibilityState(r,{role:"toolbar"});if(r.getShowSummaryBar()){e.write(">");s.renderSummaryBar(e,r)}else{if(r._lastScrolling){e.addClass("sapMFFScrolling")}else{e.addClass("sapMFFNoScrolling")}if(r.getShowReset()){e.addClass("sapMFFResetSpacer")}e.writeClasses();e.write(">");if(t.system.desktop){e.renderControl(r._getScrollingArrow("left"))}e.write("<div");e.writeAttribute("id",r.getId()+"-head");e.addClass("sapMFFHead");e.writeClasses();e.write(">");s.renderFacetFilterListButtons(r,e);if(r.getShowPersonalization()){e.renderControl(r.getAggregation("addFacetButton"))}e.write("</div>");if(t.system.desktop){e.renderControl(r._getScrollingArrow("right"))}if(r.getShowReset()){e.write("<div");e.addClass("sapMFFResetDiv");e.writeClasses();e.write(">");e.renderControl(r.getAggregation("resetButton"));e.write("</div>")}}e.write("</div>")};s.renderSummaryBar=function(e,t){e.write("<div");e.writeControlData(t);e.addClass("sapMFF");e.writeClasses();e.write(">");e.renderControl(t.getAggregation("summaryBar"));e.write("</div>")};s.getAriaAnnouncement=function(e,t){return r.getStaticId("sap.m",t||"FACETFILTER_"+e.toUpperCase())};s.getAriaDescribedBy=function(e){var t=[];if(e.getShowPersonalization()){t.push(this.getAriaAnnouncement("ARIA_REMOVE"))}t=t.concat(e._aAriaPositionTextIds);return t.join(" ")};s.getAccessibilityState=function(e){return{describedby:{value:this.getAriaDescribedBy(e),append:true}}};s.renderFacetFilterListButtons=function(e,t){var n=e._getSequencedLists(),o=n.length,d,l,g,c,u=[],A=[],w=sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("FACETFILTER_ARIA_FACET_FILTER"),p=this.getAriaAnnouncement("ARIA_REMOVE");for(l=0;l<o;l++){var F=e.getType()===i.Light,S=e.getShowPersonalization(),C=n[l].getMode()===a.SingleSelectMaster,f=n[l].getItems().length>0,m=F||!S||C||f;if(m){d=e._getButtonForList(n[l]);u=d.removeAllAriaDescribedBy();u.forEach(y);g=sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("FACETFILTERLIST_ARIA_POSITION",[l+1,o]);c=new r({text:w+" "+g}).toStatic();e._aOwnedLabels.push(c.getId());d.addAriaDescribedBy(c);A.push(c.getId());if(e.getShowPersonalization()){d.addAriaDescribedBy(s.getAriaAnnouncement("ARIA_REMOVE"))}t.renderControl(d);if(e.getShowPersonalization()){t.renderControl(e._getFacetRemoveIcon(n[l]))}}}e._aAriaPositionTextIds=A;function y(e){if(p!==e){var t=sap.ui.getCore().byId(e);if(t){t.destroy()}}}};return s},true);